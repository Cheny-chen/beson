<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="Content-Security-Policy"
			  content="
			  	default-src 'self' data: gap: 'unsafe-eval' 'unsafe-inline';
			  	style-src 'self' 'unsafe-inline';
			  	media-src *;
			  "/>
		<!--
		<meta name="format-detection" content="telephone=no">
		<meta name="msapplication-tap-highlight" content="no">
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
		
		<script type="module" src="./beson.esm.js"></script>
		-->
		<title>Title</title>
	</head>
	<body>
		<script type="module">
			import {Helper, BesonType, Serialize, Deserialize} from "./beson.esm.js";
			const {
				Binary, ObjectId,
				UInt8, UInt16, UInt32, UInt64, UInt128,
				Int8, Int16, Int32, Int64, Int128
			} = BesonType;
			
			let oid = ObjectId.Generate();
		
			let rawContent = Serialize({
				ary:[1, 2, 3, {a:1, b:2, c:3, d:4}, [123, 456]],
				bin:Binary.fromHex("0x123456788765432112345678876543211234567887654321"),
				double: 3.1415926,
				false: false,
				int8_max:   Int8.MAX,
				int8_min:   Int8.MIN,
				int16_max:  Int16.MAX,
				int16_min:  Int16.MIN,
				int32_max:  Int32.MAX,
				int32_min:  Int32.MIN,
				int64_max:  Int64.MAX,
				int64_min:  Int64.MIN,
				int128_max: Int128.MAX,
				int128_min: Int128.MIN,
				null: null,
				num: 123456,
				objectId: oid,
				objectId_str: oid.toString(),
				str: "abcddsfafdsa我是誰",
				true: true,
				uint8:   UInt8.MAX,
				uint16:  UInt16.MAX,
				uint32:  UInt32.MAX,
				uint64:  UInt64.MAX,
				uint128: UInt128.MAX,
				undefined: undefined
			});
			console.log(rawContent);
			
			let recovered = Deserialize(rawContent);
			console.log(recovered.uint64.toString(10));
			console.log(recovered.uint128.toString(10));
			console.log(recovered.objectId.toString(16));
			console.log(recovered);
		</script>
	</body>
</html>
